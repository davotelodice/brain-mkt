# ========================================
# MARKETING SECOND BRAIN - CONFIGURACIÓN
# ========================================
# Copia este archivo a .env y completa con tus valores reales

# ========================================
# 1. SUPABASE CONFIGURATION (Self-hosted en VPS)
# ========================================
SUPABASE_URL=variable_supabase_url # URL de tu instancia Supabase
SUPABASE_SERVICE_ROLE_KEY=variable_supabase_service_role_key # Service role key (NO anon key)
SUPABASE_DB_URL=postgresql://postgres:POSTGRES_PASSWORD@ip_de_vps:5432/postgres

# ========================================
# 2. JWT AUTHENTICATION
# ========================================
JWT_SECRET_KEY=variable_jwt_secret_key  # ✅ YA GENERADA (puedes cambiarla)
JWT_ALGORITHM=HS256
JWT_EXPIRATION_DAYS=7

# ========================================
# 3. LLM PROVIDERS
# ========================================

# Proveedor principal para agentes (configurable)
# Opciones: "openai" | "openrouter"
LLM_PROVIDER=openai

# OpenAI (para embeddings Y agentes)
OPENAI_API_KEY=variable_openai_api_key
OPENAI_API_BASE=https://api.openai.com/v1
OPENAI_MODEL=gpt-4o  # Modelo para agentes (gpt-4o | gpt-4 | gpt-3.5-turbo)
OPENAI_BATCH_SIZE=50
OPENAI_RATE_LIMIT_RPM=3000
# OpenRouter (alternativa para múltiples modelos, incluido Claude)
OPENROUTER_API_KEY=variable_openrouter_api_key
OPENROUTER_API_BASE=https://openrouter.ai/api/v1
OPENROUTER_MODEL=anthropic/claude-3.5-sonnet  # Modelo vía OpenRouter

# ========================================
# 4. BACKEND CONFIGURATION
# ========================================
BACKEND_PORT=8000
BACKEND_HOST=0.0.0.0
BACKEND_CORS_ORIGINS=http://localhost:3000,http://localhost:8000

# ========================================
# 5. FRONTEND CONFIGURATION
# ========================================
NEXT_PUBLIC_API_URL=http://localhost:8000/api
NEXT_PUBLIC_STREAMING_ENDPOINT=http://localhost:8000/api/chat/stream

# ========================================
# 6. REDIS (opcional, para cache)
# ========================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=  # Dejar vacío si no tiene password

# ========================================
# 7. STORAGE (para documentos subidos)
# ========================================
STORAGE_PATH=./storage  # Local (para Docker usar /app/storage)
MAX_FILE_SIZE=10485760  # 10MB en bytes

# ========================================
# 8. ENVIRONMENT
# ========================================
ENVIRONMENT=development  # development | production
DEBUG=true
LOG_LEVEL=INFO  # DEBUG | INFO | WARNING | ERROR

# ========================================
# 9. SECURITY
# ========================================
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8000
ALLOWED_HOSTS=localhost,127.0.0.1
SECURE_COOKIES=false  # true en production con HTTPS

# ========================================
# 10. RATE LIMITING (OpenAI)
# ========================================
OPENAI_RATE_LIMIT_RPM=3000  # Requests per minute (tier free)
OPENAI_BATCH_SIZE=50  # Batch size para embeddings
AGENT_TRACE=1
AGENT_TRACE_SHOW_PROMPTS=1
SSE_DEBUG=1
# ========================================
# NOTAS IMPORTANTES
# ========================================
# 
# 1. JWT_SECRET_KEY:
#    - YA ESTÁ GENERADA arriba
#    - Puedes generar otra con: python3 -c "import secrets; print(secrets.token_urlsafe(32))"
#
# 2. SUPABASE_SERVICE_ROLE_KEY:
#    - Obtenerla de: Supabase Dashboard > Settings > API
#    - IMPORTANTE: Usar SERVICE ROLE KEY, NO anon key
#
# 3. OpenRouter vs OpenAI:
#    - Si usas OpenRouter: Cambiar OPENAI_API_KEY y OPENAI_API_BASE
#    - Si usas OpenAI directo: Dejar OPENAI_API_BASE como está
